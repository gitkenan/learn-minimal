@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .search-input {
    @apply w-full px-4 py-3 rounded-xl border border-gray-200 
           focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent
           transition duration-200 ease-in-out;
  }

  .search-button {
    @apply px-6 py-3 bg-accent text-white rounded-xl
           hover:bg-accent-hover transition duration-200 ease-in-out
           focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2;
  }
}

@layer utilities {
  /* Enhanced interactive states */
  .interactive {
    @apply transition-all duration-200 ease-in-out;
  }
  
.interactive:hover {
  @apply text-green-500;
  }

  .interactive:active {
    @apply scale-[0.98];
  }

  /* Gradient text utilities */
  .gradient-text {
    @apply bg-clip-text text-transparent font-semibold text-xl;
    background-image: linear-gradient(
      90deg,
      theme('colors.accent.DEFAULT') 0%,
      theme('colors.accent.secondary') 50%,
      theme('colors.accent.muted') 100%
    );
  }

  .gradient-text-blue {
    @apply bg-clip-text text-transparent font-semibold text-sm;
    background-image: linear-gradient(
      90deg,
      #3B82F6 0%,
      #60A5FA 50%,
      #93C5FD 100%
    );
  }

  .gradient-text-accent {
    @apply bg-clip-text text-transparent font-semibold;
    background-image: linear-gradient(
      90deg,
      theme('colors.accent.DEFAULT') 0%,
      theme('colors.accent.secondary') 50%,
      theme('colors.accent.muted') 100%
    );
  }

  .gradient-text-primary {
    @apply bg-clip-text text-transparent font-semibold;
    background-image: linear-gradient(
      90deg,
      theme('colors.primary') 0%,
      theme('colors.secondary') 50%,
      theme('colors.primary') 100%
    );
  }

  /* Code block styles */
  pre[class*='language-'] {
    @apply text-sm leading-relaxed !important;
    max-height: 400px;
  }

  :not(pre) > code {
    @apply font-mono text-sm;
  }

  .prose pre {
    @apply bg-chat-background text-chat-text p-4 rounded-lg overflow-x-auto;
  }

  /* Typography enhancements */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Bottom sheet styles */
  .bottom-sheet {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    height: var(--drawer-height, 80vh);
    background: white;
    transition: transform 0.3s ease-in-out;
    box-shadow: theme('boxShadow.lg-up');
    z-index: 50;
  }

  .bottom-sheet--closed {
    transform: translateY(100%);
  }

  .bottom-sheet--open {
    transform: translateY(0);
  }

  .bottom-sheet__header {
    @apply absolute top-0 left-0 right-0 h-12 bg-gray-100 border-b border-gray-200
           flex items-center justify-between px-4;
  }

  .bottom-sheet__content {
    @apply h-full pt-12 overflow-hidden bg-white;
  }

  .bottom-sheet-enhanced {
    @apply bottom-sheet;
  }

  .bottom-sheet-enhanced__overlay {
    @apply fixed inset-0 bg-black/30 backdrop-blur-sm;
    transition: opacity 0.3s ease-in-out;
  }

  /* Mobile chat overlay animations */
  @keyframes slide-up {
    from {
      transform: translateY(100%);
    }
    to {
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out forwards;
  }

  /* Mobile chat overlay styles */
  .mobile-chat-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50;
    animation: fade-in 0.3s ease-out forwards;
  }

  .mobile-chat-container {
    @apply fixed inset-x-0 bottom-0 top-0 bg-white flex flex-col z-50;
    animation: slide-up 0.3s ease-out forwards;
  }

  .mobile-chat-header {
    @apply flex items-center justify-between p-4 border-b bg-white sticky top-0;
  }

  .mobile-chat-content {
    @apply flex-1 overflow-hidden bg-gray-50;
  }
}
